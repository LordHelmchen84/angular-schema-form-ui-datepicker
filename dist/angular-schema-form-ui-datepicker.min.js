angular.module("templates",[]).run(["$templateCache",function(e){e.put("src/templates/angular-schema-form-ui-datepicker.html",'<div\n    class="form-group has-feedback schema-form-ui-datepicker"\n    ng-class="{\n       \'has-error\': form.disableErrorState !== true && hasError(),\n       \'has-success\': form.disableSuccessState !== true && hasSuccess(),\n       \'has-feedback\': form.feedback !== false,\n       \'required\': form.required === true\n     }">\n\n    <!-- Create your own form options -->\n    <label class="control-label {{::form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{::fieldId(true, false)}}">{{form.title}}</label>\n\n    <ui-datepicker\n        name="{{::fieldId(true, false)}}"\n        ng-attr-placeholder="{{::form.placeholder}}"\n        id="{{::fieldId(true, false)}}"\n        datepicker-options="{{form.dateOptions}}"\n        datename="{{::fieldId(true, false)}}"\n        ng-disabled="form.readonly"\n        sf-changed="form"\n        ng-model="ngModel"\n        sf-field-model\n        schema-validate="form"></ui-datepicker>\n\n    <!-- sf-field-model let\'s the ngModel builder know that you want a ng-model that matches against the form key here -->\n    <!-- schema-validate="form" validates the form against the schema -->\n    <span\n        ng-if="form.feedback !== false"\n        class="form-control-feedback"\n        ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': form.disableSuccessState !== true && hasSuccess(), \'glyphicon-remove\': form.disableErrorState !== true && hasError() }"\n        aria-hidden="true"></span>\n\n    <span ng-if="hasError() || hasSuccess()" id="{{::fieldId(true, true) + \'-status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span>\n\n    <div class="help-block" sf-message="form.description"></div>\n    <!-- Description & Validation messages -->\n\n</div>\n')}]),angular.module("angularSchemaFormUiDatepicker",["ui.bootstrap","schemaForm","templates","pascalprecht.translate"]).config(function(e,t,a,n){var o=(a.builders.simpleTransclusion,a.builders.ngModelOptions),r=a.builders.ngModel,i=a.builders.sfField,s=a.builders.condition,c=a.builders.array,d=(a.builders.numeric,[i,o,r,c,s]);t.defineAddOn("bootstrapDecorator","datepicker","src/templates/angular-schema-form-ui-datepicker.html",d);e.prependRule("string",function(t,a,o){if("datepicker"===a.format){a["x-schema-form"]?a["x-schema-form"].type="datepicker":a["x-schema-form"]={type:"datepicker"};var r=e.stdFormObj(t,a,o);return r.key=o.path,r.type="datepicker",o.lookup[n.stringify(o.path)]=r,r}})}),angular.module("angularSchemaFormUiDatepicker").directive("uiDatepicker",function(e,t,a){return{restrict:"E",require:"ngModel",priority:1,scope:{ngModel:"="},template:'<div class="input-group"><input datepicker-options="dateOptions" ng-change="syncSfWithUib()" current-text="{{dateOptions.currentText}}" close-text="{{dateOptions.closeText}}" clear-text="{{dateOptions.clearText}}" type="text" class="form-control" uib-datepicker-popup="{{dateOptions.dateFormat}}" ng-model="dt" is-open="opened"  /><span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button></span></div>',link:function(e,t,n,o){n.datepickerOptions&&(n.datepickerOptions=angular.fromJson(n.datepickerOptions)),o.$formatters.push(function(t){moment(t,"YYYY-MM-DD").isValid()&&(e.dt=moment(t).toDate())}),e.syncSfWithUib=function(){moment(e.dt,"DD.MM.YYYY").isValid()?e.ngModel=moment(e.dt).format("YYYY-MM-DD"):(e.dt=void 0,e.ngModel=void 0)},e.syncSfWithUib(),e.dateOptions={dateFormat:"shortDate",minDate:null,maxDate:null},a("ANGULAR_SCHEMA_FORM_UI_DATEPICKER_CURRENT").then(function(t){e.dateOptions.currentText=t},function(t){e.dateOptions.currentText="today"}),a("ANGULAR_SCHEMA_FORM_UI_DATEPICKER_CLOSE").then(function(t){e.dateOptions.closeText=t},function(t){e.dateOptions.closeText="close"}),a("ANGULAR_SCHEMA_FORM_UI_DATEPICKER_CLEAR").then(function(t){e.dateOptions.clearText=t},function(t){e.dateOptions.clearText="clear"}),"today"===n.datepickerOptions.minDate?n.datepickerOptions.minDate=new Date:n.datepickerOptions.minDate=moment(n.datepickerOptions.minDate,"YYYY-MM-DD").toDate(),"today"===n.datepickerOptions.maxDate?n.datepickerOptions.maxDate=new Date:n.datepickerOptions.maxDate=moment(n.datepickerOptions.maxDate,"YYYY-MM-DD").toDate(),e.dateOptions=angular.merge(e.dateOptions,n.datepickerOptions),e.popupOpen=!1,e.openPopup=function(t){t.preventDefault(),t.stopPropagation(),e.popupOpen=!0},e.open=function(t){t.preventDefault(),t.stopPropagation(),e.opened=!0}}}});